name: Release

on:
  release:
    types: [published, updated]

concurrency:
  # Do not interrupt previous workflows
  group: ${{ github.workflow }}
  cancel-in-progress: false

jobs:
  dump:
    name: Dump Contexts
    runs-on: ubuntu-latest
    steps:
      - name: Debug GitHub Action
        uses: raven-actions/debug@v1.1.0
    
  # init:
  #   name: Initialize
  #   outputs:
  #     pr: ${{ steps.pr.outputs.pr }}
  #   runs-on: ubuntu-latest
  #   steps:
  #       # Get PR number for squash merges to main
  #     - name: PR Number
  #       id: pr
  #       uses: bcgov-nr/action-get-pr@v0.0.1

  # deploy-prod:
  #   name: PROD
  #   needs: [init]
  #   secrets: inherit
  #   uses: ./.github/workflows/.deploy.yml
  #   with:
  #     environment: prod
  #     tag: ${{ needs.init.outputs.pr }}
  #     target: prod
